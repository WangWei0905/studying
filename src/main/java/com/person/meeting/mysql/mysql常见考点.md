acid
原子性 基于undolog
一致性 
隔离性 锁+mvcc
永久性 redolog

注意：数据库原子性和redis原子性以及jvm原子性的区别和联系

char255 varchar65535 text 区别 各自的大小
timestamp datetime 区别

mvcc 多版本并发控制

行锁 
间隙锁
netx-key lock

读锁 version=version+1
写锁
意向锁


事物
事物的隔离级别
读未提交（脏读） 读到了另一个事物未提交的数据
读已提交（不可重复读）一次事物中，多次读取，读到的数据可能不一样
可重复读 （幻读）查询一批数据，可能存在间隙插入数据的场景
串行化

事物的传播属性

在spring中如何设置事物传播属性和隔离级别

##spring中事物失效的原因
1、配置文件中没有配置事务管理器
2、没有开启事务注解
3、类内部调用
4、被final修饰
5、非public修饰的方法
6、异常被吃掉
7、数据库不支持事物操作


###MySQL中使用的B+Tree相比于BTree有以下优势：

1. **磁盘读写代价更低**：B+Tree的非叶子节点不存储数据，只存储键值，这样可以在一个节点中存储更多的键值，减少树的高度，从而减少磁盘I/O次数。

2. **查询效率更加稳定**：在B+Tree中，所有数据都存储在叶子节点，且叶子节点通过指针相互连接，形成有序链表，这使得每次查询都需要访问叶子节点，路径长度固定，查询效率稳定。

3. **更好的支持范围查询**：由于B+Tree的叶子节点形成了有序链表，进行范围查询时可以直接遍历叶子节点，提高了效率，特别是在执行全表扫描时，只需遍历叶子节点即可。

4. **更高的数据密度**：B+Tree的每个节点可以存储更多的键值对，因为非叶子节点不存储数据，这使得B+Tree比BTree更矮，减少了磁盘I/O操作次数。

5. **更优的磁盘友好性**：B+Tree的有序性有助于减少磁盘碎片，提高查询性能，数据顺序排列并且相连，使得区间查找和搜索更为便捷。

6. **更高效的空间利用率**：B+Tree在删除或更新数据时，只需在叶子节点操作，无需对整棵树进行重平衡，提高了空间利用率和操作效率。

7. **更优秀的并发性能**：B+Tree的查询路径固定，使得并发控制机制更加简单和高效，有效避免死锁和其他并发问题。

总的来说，B+Tree由于其结构特点，在数据库索引中提供了更高效的查询性能、更好的范围查询支持、以及更优秀的磁盘和空间利用率，这些特性使其成为数据库系统如MySQL的首选索引结构，尤其适合大规模数据和高并发场景。
